@{
    ViewData["Title"] = "Email Notification";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="col-12 col-xl-12">
    <h2 class="card-title mb-3"><span style="font-size: 20px;"><strong>Add Email Notification</strong></span></h2>
    <div class="card">
        <div class="card-header">
        </div>
        <div class="card-body">
            <form id="form">
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Email</label>
                    <div class="col-sm-10">
                        <input type="email" class="form-control" placeholder="Email" id="email">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Subject</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" placeholder="Email Subject" id="subject">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Message</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" placeholder="Message" rows="3" id="message"></textarea>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 text-sm-right">Receiver's Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" placeholder="Receiver's Name" id="receiverName">
                    </div>
                </div>
                <div class="mb-3 row">
                    <div class="col-sm-10 ml-sm-auto">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    const form = document.getElementById('form');
    const email = document.getElementById('email');
    const subject = document.getElementById('subject');
    const message = document.getElementById('message');
    const receiverName = document.getElementById('receiverName');

    form.addEventListener('submit', (e) => {
        e.preventDefault();
        //custom function for checking valid input
        checkInput();
    });

    function checkInput() {
        //get value from input
        const emailValue = email.value.trim();
        const subjectValue = subject.value.trim();
        const messageValue = message.value.trim();
        const receiverNameValue = receiverName.value.trim();

        if (emailValue === '') {
            //show error
            //add error class
            setErrorFor(email, 'email cannot be blank');
        } else {
            //success class
            setSuccessFor(email);
        }

        if (subjectValue === '') {
            //show error
            //add error class
            setErrorFor(subject, 'subject cannot be blank');
        } else {
            //success class
            setSuccessFor(subject);
        }

        if (messageValue === '') {
            //show error
            //add error class
            setErrorFor(message, 'message cannot be blank');
        } else {
            //success class
            setSuccessFor(message);
        }

        if (receiverNameValue === '') {
            //show error
            //add error class
            setErrorFor(receiverName, 'receiverName cannot be blank');
        } else {
            //success class
            setSuccessFor(receiverName);
        }
    }

    function setErrorFor(input, message) {
        const formValidate = input.parentElement;
        const small = formValidate.querySelector('small');

        //add error message inside small
        small.innerText = message

        //add error class
        formValidate.className = 'form-validate error';
    }

    function setSuccessFor(input) {
        const formValidate = input.parentElement;

        formValidate.className = 'form-validate success';
    }
</script>